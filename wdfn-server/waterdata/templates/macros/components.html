{% macro TimeSeriesComponent(site_no, latitude, longitude) -%}
    <div class="wdfn-component" data-component="hydrograph" data-siteno="{{ site_no }}" data-latitude="{{ latitude }}" data-longitude="{{ longitude }}">
        <div class="loading-indicator-container"></div>
        <div class="graph-container"></div>
        <div class="select-time-series-container"></div>
        <div class="graph-data usa-accordion">
            <h2 class="usa-acordion__heading">
                <button class="usa-accordion__button" aria-expanded="false" aria-controls="iv-data-table-container">
                    IV Data
                </button>
            </h2>
            <div id="iv-data-table-container" class="usa-accordion__content usa-prose"></div>
        </div>
        <div class="usa-alert usa-alert--info provisional-data-alert" role="alert" hidden>
            <div class="usa-alert__body">
                <h3 class="usa-alert__heading">Provisional Data Statement</h3>
                <p class="usa-alert__text">
                    Data are provisional and subject to revision until they have been thoroughly reviewed and received final approval.
                    Current condition data relayed by satellite or other telemetry are automatically screened to not display improbable
                    values until they can be verified. Provisional data may be inaccurate due to instrument malfunctions or physical
                    changes at the measurement site. Subsequent review based on field inspections and measurements may result in
                    significant revisions to the data. Data users are cautioned to consider carefully the provisional nature of the
                    information before using it for decisions that concern personal or public safety or the conduct of business that
                    involves substantial monetary or operational consequences. Information concerning the accuracy and appropriate uses
                    of these data or concerning other hydrologic data may be obtained from the USGS.
                </p>
            </div>
        </div>
    </div>
{%- endmacro %}

{%  macro DailyValueTimeSeriesComponent(site_no, time_series_id) -%}
    <div class="wdfn-component" data-component="dv-hydrograph" data-siteno="{{ site_no }}">
        <div class="loading-indicator-container"></div>
        <div class="graph-container usa-prose"></div>
    </div>
{%- endmacro %}

{% macro MapComponent(site_no, latitude, longitude) -%}
    <div class="wdfn-component" data-component="map" data-siteno="{{ site_no }}" data-latitude="{{ latitude }}" data-longitude="{{ longitude }}" data-zoom=12>
        <div id="flood-layer-control-container"></div>
        <div id="site-map"></div>
        <div>
            <a class="usa-link" href="https://waterdata.usgs.gov/blog/nldi-intro/" target="_blank" >About the Network-Linked Data Index (NLDI)</a>
        </div>
    </div>
{%- endmacro %}

{% macro USMapComponent(latitude, longitude, zoom) -%}
  <div class="wdfn-component" data-component="us-map" data-latitude="{{ latitude }}" data-longitude="{{ longitude }}" data-zoom="{{zoom}}">
        <div id="site-map"></div>
  </div>
{%- endmacro %}

{% macro USWDSCheckbox(name, label, value) -%}
    <div class="usa-checkbox">
        <input type="checkbox" name="{{ name }}" id="{{ name }}" class="usa-checkbox__input">
        <label for="{{ name }}" class="usa-checkbox__label">{{ label }}</label>
    </div>
{%- endmacro -%}

{% macro USWDSRadio(id, name, label, value) -%}
    <div class="usa-radio">
        <input type="radio"
                class="usa-radio__input"
                id="{{ id }}"
                name="{{ name }}"
                value="{{ value }}" />
        <label for="{{ id }}" class="usa-radio__label">{{ label }}</label>
    </div>
{%- endmacro -%}

{% macro WDFNParamFilters() -%}
<div class="wdfn-component" data-component="wdfn-param-filters">
    <form action="" class="grid-row" id="monitoring-location-search">
      <div class="grid-row">
          <fieldset class="usa-fieldset tablet:grid-col-2" id="site-type-filters">
              <legend class="usa-fieldset"><h3>Type of sites</h3></legend>
              <p class="explanation">
                  Show sites of the following types:
              </p>
              {{ USWDSCheckbox("site-type-groundwater", "Groundwater", "groundwater") }}
              {{ USWDSCheckbox("site-type-surfacewater", "Surface water", "surfacewater") }}
              {{ USWDSCheckbox("site-type-atmospheric", "Atmospheric", "atmospheric") }}
              {{ USWDSCheckbox("site-type-spring", "Spring", "spring") }}
              {{ USWDSCheckbox("site-type-other", "Other", "other") }}
          </fieldset>

          <fieldset class="usa-fieldset tablet:grid-col-2">
              <legend>
                  <h3>Time period</h3>
              </legend>
              <p class="explanation">
                  Show sites with data in the last:
              </p>
              {{ USWDSRadio("period-5-years", "period", "5 years", "5") }}
              {{ USWDSRadio("period-10-years", "period", "10 years", "10") }}
              {{ USWDSRadio("period-20-years", "period", "20 years", "20") }}
              {{ USWDSRadio("period-50-years", "period", "50 years", "50") }}
          </fieldset>
          <fieldset class="usa-fieldset tablet:grid-col-8" id="filter-site-params">
              <legend>
                  <h3>Site data parameters</h3>
              </legend>
              <p class="explanation">
                  Show sites collecting ANY of the following types of data:
              </p>
              <div class="filter-param-list__wrapper grid-row">
                  <div class="filter-param-list tablet:grid-col">
                      <h4>
                          <button class="params-toggle"
                          aria-expanded="false"
                          aria-controls="water-level-params">
                              <span>Water Level</span>
                          </button>
                      </h4>
                      <ul id="water-level-params" class="filter-site-params__options" data-open-state="closed">
                          <li>
                              {{ USWDSCheckbox("params-stage", "Stage") }}
                              <ul>
                                  <li>
                                      {{ USWDSCheckbox("params-stage-gage-height", "Gage height") }}
                                  </li>
                                  <li>
                                      {{ USWDSCheckbox("params-stage-stream-level", "Stream level") }}
                                  </li>
                              </ul>
                          </li>
                          <li>
                              {{ USWDSCheckbox("params-groundwater-level", "Groundwater level") }}
                              <ul>
                                  <li>
                                      {{ USWDSCheckbox("params-groundwater-level-lsdparams", "Water level, depth LSD") }}
                                  </li>
                                  <li>
                                      {{ USWDSCheckbox("params-groundwater-level-depth", "Depth to water parameters") }}
                                  </li>
                              </ul>
                          </li>
                          <li>
                              {{ USWDSCheckbox("params-sea-level", "Sea level") }}
                              <ul>
                                  <li>
                                      {{ USWDSCheckbox("params-sea-level-water-elevation", "Water elevation") }}
                                  </li>
                                  <li>
                                      {{ USWDSCheckbox("params-sea-level-tidal-elevation", "Tidal elevation") }}
                                  </li>
                              </ul>
                          </li>
                          <li>
                              {{ USWDSCheckbox("params-lake-level", "Lake/reservoir level") }}
                              <ul>
                                  <li>
                                      {{ USWDSCheckbox("params-lake-level-water-elevation", "Water elevation") }}
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </div>

                  <div class="filter-param-list grid-col">
                      <h4>
                          <button class="params-toggle"
                          aria-expanded="false"
                          aria-controls="water-quality-params">
                              <span>Water Quality</span>
                          </button>
                      </h4>
                      <ul id="water-quality-params" class="filter-site-params__options" data-open-state="closed">
                          <li>
                              {{ USWDSCheckbox("params-physical", "Physical") }}
                              <ul>
                                  <li>
                                      {{ USWDSCheckbox("params-physical-water-temperature", "Water temperature") }}
                                  </li>
                                  <li>
                                      {{ USWDSCheckbox("params-physical-turbidity", "Turbidity") }}
                                  </li>
                                  <li>
                                      {{ USWDSCheckbox("params-physical-specific-conductance", "Specific conductance") }}
                                  </li>
                                  <li>
                                      {{ USWDSCheckbox("params-physical-salinity", "Salinity") }}
                                  </li>
                              </ul>
                          </li>

                          <li>
                              {{ USWDSCheckbox("params-chemical", "Chemical") }}
                              <ul>
                                  <li>
                                      {{ USWDSCheckbox("params-chemical-nutrients", "Nutrients") }}
                                  </li>
                                  <li>
                                      {{ USWDSCheckbox("params-chemical-metals", "Metals") }}
                                  </li>
                                  <li>
                                      {{ USWDSCheckbox("params-chemical-pesticides", "Pesticides") }}
                                  </li>
                                  <li>
                                      {{ USWDSCheckbox("params-chemical-ph", "pH") }}
                                  </li>
                                  <li>
                                      {{ USWDSCheckbox("params-chemical-dissolved-oxygen", "Dissolved oxygen") }}
                                  </li>
                              </ul>
                          </li>

                          <li>
                              {{ USWDSCheckbox("params-biological", "Biological") }}
                              <ul>
                                  <li>
                                      {{ USWDSCheckbox("params-biological-tissue-sample", "Tissue sample") }}
                                  </li>
                                  <li>
                                      {{ USWDSCheckbox("params-biological-algal", "Algal (clorophyll)") }}
                                  </li>
                              </ul>
                          </li>

                          <li>
                              {{ USWDSCheckbox("params-flow", "Flow") }}
                              <ul>
                                  <li>
                                      {{ USWDSCheckbox("params-flow-discharge", "Discharge") }}
                                  </li>
                                  <li>
                                      {{ USWDSCheckbox("params-flow-flow-rate", "Flow rate") }}
                                  </li>
                                  <li>
                                      {{ USWDSCheckbox("params-flow-mean-velocity", "Mean water velocity") }}
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </div>
                  <div class="filter-param-list grid-col">
                      <h4>
                          <button class="params-toggle"
                          aria-expanded="false"
                          aria-controls="flow-rate-params">
                              <span>Flow rate</span>
                          </button>
                      </h4>
                      <ul id="flow-rate-params" class="filter-site-params__options" data-open-state="closed">
                          <li>
                              {{ USWDSCheckbox("params-flow-rate-discharge", "Discharge") }}
                          </li>
                          <li>
                              {{ USWDSCheckbox("params-flow-rate-well", "Well") }}
                          </li>
                      </ul>
                  </div>
              </div>
          </fieldset>
      </div>
      <div class="grid-row count-and-buttons">
        <div id="result-count" aria-live="polite">
            Number of matching sites: <span>0</span>
        </div>
        <button class="usa-button" type="submit">Show results</button>
      </div>
    </form>
</div>
{%- endmacro %}

{% macro NetworkComponent(network_cd, extent) -%}

    <div class="wdfn-component" data-component="network" data-networkcd="{{ network_cd }}" data-extent="{{  extent }}">
        <h3 id="network_map_heading">Network Map:</h3>
        <p id="overload-map"></p>
        <div id="network-map"></div>
        <h3 id="network_table_heading">Link Table:</h3>
        <p id="overload-table"></p>
        <div id="link-list">
            <table id="link-table" class="usa-table">
                <thead>
                <tr>
                    <th colspan="2">
                        <input id="search-name" class="search" placeholder="Search Name">
                        <div class="table-pagination">
                            <ul class="pagination"></ul>
                        </div>
                    </th>
                </tr>
                <tr>
                    <th>
                        <button type="button" class="sort" data-sort="name">Description<i class="caret"></i></button>
                    </th>
                    <th>
                        Link
                    </th>
                </tr>
                </thead>
                <tbody class="list"></tbody>
            </table>
        </div>
    </div>

{%- endmacro %}


{% macro EmbedComponent(site_no) -%}
    <span class="wdfn-component" data-component="embed">
        <i class="embed-icon has-script fas fa-code"></i>
        <fieldset class="no-script">
            <legend>Embed Snippet</legend>
            <input type="text" id="embed-url" aria-label="Embed this time-series chart on your own site" value='<iframe src="{{ url_for('time_series_component', site_no=site_no, _external=True) }}" width="600" height="900" frameborder="0" style="border:0" allowfullscreen></iframe>' readonly></input>
        </fieldset>
    </span>
{%- endmacro %}


{%  macro Description(site_no, loc_vals, param_grp_series) -%}
    {% if loc_vals %}
        Monitoring location {{ site_no }} is associated with {{ loc_vals.site_tp_cd.name.upper()|indefinite_article }} {{ loc_vals.site_tp_cd.name.upper() }} in {{ loc_vals.county_cd.name.upper() }}, {{ loc_vals.state_cd.name.upper() }}.
        {% if param_grp_series|readable_param_list %} Current conditions of {{ param_grp_series|readable_param_list }} are available.{% endif %}
        {% if param_grp_series|data_start_year %} Water data back to {{  param_grp_series|data_start_year }} are available online.{% endif %}
    {% endif %}
{%- endmacro %}


{%  macro QuestionTooltip(text_id, content, external_desc) -%}
    <div class="tooltip-item">
        <sup {% if not external_desc %}aria-describedby="{{ text_id|tooltip_content_id }}"{% endif %}>
            <i class="fas fa-question-circle" aria-hidden="true"></i>
        </sup>
        <div class="tooltip">
            <p id="{{ text_id|tooltip_content_id }}">{{ content }}</p>
        </div>
    </div>
{%- endmacro  %}
